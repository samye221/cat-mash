(this["webpackJsonpcat-mash"]=this["webpackJsonpcat-mash"]||[]).push([[0],{40:function(t,e,n){t.exports=n(58)},49:function(t,e,n){},51:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(8),o=n(12),i=n(11),s=n(35),u=n.n(s),l=n(18);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={catList:[],catsWithVotes:[]},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;if("LOAD_CAT_LIST"===e.type){var n=e.cats.images.map((function(t){return Object.assign(t,{count:0})}));return h({},t,{catList:n})}return t};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(n,!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m={winner:{},loser:{}},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;if("ADD_POINT"===e.type){var n=e.payload.cat,r=e.payload.catList;Object.assign(n,{count:n.count+1});var a=r[Math.floor(Math.random()*r.length)];return b({},t,{winner:n,loser:a!==n?a:r[Math.floor(Math.random()*r.length)]})}return t},y=Object(i.c)({listView:d,duelView:v}),j=Object(i.d)(y,Object(i.a)(u.a)),w=(n(49),n(13)),g=n.n(w),E=n(19),k=n(20),P=n(21),C=n(27),D=n(23),S=n(28),x=(n(51),function(t){return{type:"LOAD_CAT_LIST",cats:t}}),L=function(){var t=Object(E.a)(g.a.mark((function t(e){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cors-anywhere.herokuapp.com/",t.next=3,fetch("https://cors-anywhere.herokuapp.com/"+e);case 3:if(!(n=t.sent).ok){t.next=8;break}return t.abrupt("return",n.json());case 8:return t.t0=Error,t.next=11,n.text();case 11:throw t.t1=t.sent,(r=(0,t.t0)(t.t1)).statusText=n.statusText,r.status=n.status,r;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T={getCats:function(){return L("https://latelier.co/data/cats.json")}},M=n(72),V=n(77),A=n(73),_=n(74),I=n(79),R=Object(o.b)((function(t){var e=t.listView.catList;return e.sort((function(t,e){return e.count-t.count})),{cats:e}}))((function(t){var e=t.cats;return a.a.createElement(M.a,null,e.map((function(t){return a.a.createElement(V.a,{key:t.id},a.a.createElement(A.a,null,a.a.createElement(_.a,{src:t.url,alt:"cat picture"})),a.a.createElement(I.a,null,"SCORE: ",t.count))})))})),W=n(22),B=n(78),J=n(75),N=n(76),z=function(t){var e=t.cat,n=t.onClick,r=e.url,c=e.count;return a.a.createElement(B.a,{style:{height:"40vh",width:"40vw",margin:20},onClick:n},a.a.createElement(J.a,{style:{height:"80%",backgroundSize:"cover"},image:r,title:"Cat picture"}),a.a.createElement(N.a,null,c))},$=n(25),q=function(t){function e(t){var n;return Object(k.a)(this,e),(n=Object(C.a)(this,Object(D.a)(e).call(this,t))).addPoint=n.addPoint.bind(Object(W.a)(n)),n.state={voted:!1,cat1:{},cat2:{}},n}return Object(S.a)(e,t),Object(P.a)(e,[{key:"addPoint",value:function(t){var e=this.props.duelCats;j.dispatch({type:"ADD_POINT",payload:{cat:t,catList:e}}),this.setState({voted:!0})}},{key:"getRandomCats",value:function(){var t=this,e=this.props,n=e.duelCats,r=e.winner,c=e.loser,o=this.state.voted,i=o?r:n[Math.floor(Math.random()*n.length)],s=o?c:n[Math.floor(Math.random()*n.length)];return a.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:4,justifyContent:"center"}},a.a.createElement(z,{cat:i,onClick:function(){return t.addPoint(i)}}),a.a.createElement(z,{cat:s,onClick:function(){return t.addPoint(s)}}))}},{key:"render",value:function(){return a.a.createElement("div",{style:{margin:8}},this.props.duelCats.length>0?this.getRandomCats():void 0,a.a.createElement("button",null,a.a.createElement($.a,{to:"/list"},"TO LIST")))}}]),e}(a.a.Component),F=Object(o.b)((function(t){var e=t.listView.catList||[],n=t.listView.catsWithVotes||[];return{duelCats:e,winner:t.duelView.winner,loser:t.duelView.loser,catScores:n}}),(function(t){return{addScores:function(e,n){return t(function(t,e){return{type:"ADD_SCORES",payload:{cat:t,catList:e}}}(e,n))}}}))(q),G=function(t){function e(){var t,n;Object(k.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(C.a)(this,(t=Object(D.a)(e)).call.apply(t,[this].concat(a)))).syncData=Object(E.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getCats();case 2:e=t.sent,j.dispatch(x(e));case 4:case"end":return t.stop()}}),t)}))),n}return Object(S.a)(e,t),Object(P.a)(e,[{key:"componentDidMount",value:function(){this.syncData()}},{key:"render",value:function(){return a.a.createElement($.b,null,a.a.createElement(F,{path:"/"}),a.a.createElement(R,{path:"/list"}))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(a.a.createElement(o.a,{store:j},a.a.createElement(G,null)),document.getElementById("root"),void("serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))))}},[[40,1,2]]]);
//# sourceMappingURL=main.3e2ff78a.chunk.js.map